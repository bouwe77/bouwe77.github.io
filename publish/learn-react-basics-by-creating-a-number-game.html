<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
    <title>Learn React basics by creating a number game (part 1)</title>
    <meta name="description" content="bouwe.io, a blog by Bouwe Westerdijk" />
    <meta name="image" content="/bouwe-react-amsterdam.png" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="bouwe.io" />
    <meta property="og:url" content="https://bouwe.io" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="bouwe.io" />
    <meta
      property="og:description"
      content="bouwe.io, a blog by Bouwe Westerdijk"
    />
    <meta
      property="og:image"
      content="https://bouwe.io/bouwe-react-amsterdam.png"
    />
    <meta property="og:image:alt" content="Bouwe Westerdijk" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@bouwe" />
    <meta name="twitter:url" content="https://bouwe.io" />
    <meta name="twitter:title" content="Learn React basics by creating a number game (part 1)" />
    <meta
      name="twitter:description"
      content="bouwe.io, a blog by Bouwe Westerdijk"
    />
    <meta
      name="twitter:image"
      content="https://bouwe.io/bouwe-react-amsterdam"
    />
    <meta name="twitter:image:alt" content="Bouwe Westerdijk" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="stylesheet" href="/styles.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open Sans"
    />
    <link
      rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.1/build/styles/atom-one-dark-reasonable.min.css"
    />
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.1/build/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    <link
      href="/rss2.xml"
      type="application/rss+xml"
      rel="alternate"
      title="bouwe.io RSS Feed"
    />
    <link
      href="/atom.xml"
      type="application/atom+xml"
      rel="alternate"
      title="bouwe.io Atom feed"
    />
  </head>

  <body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <h1>
          <a href="/">bouwe.io</a>
        </h1>
      </div>
      <div class="nav">
        <!-- 
          <a href="#">about me</a> 路 <a href="#">speaking</a>
          -->
      </div>
    </header>

    <div>
      <div>
        <h2 class="blog-title">
          <a href="/learn-react-basics-by-creating-a-number-game">Learn React basics by creating a number game (part 1)</a>
        </h2>
        <div class="blog-meta">
          Dec 22, 2020  路 <a href="/categories/react">React</a>, <a href="/categories/simple-number-game">simple number game</a>  路 6 minute read
        </div>
      </div>

      <div><p>This is part 1 of a series of blog posts where I'll explore some basic React principles. I do that by building a simple calculation game. Our 6 year old daughter likes this game a lot. </p>
<p>Topics this blog post will cover are JSX, conditional rendering, mapping arrays to JSX, event handling and updating state of arrays and other values with the <code>useState</code> hook.</p>
<h3>Demo</h3>
<p>Check out this GIF to see what we are going to build:</p>
<img alt="Demo" src="/demo.gif" width="640"/>
<p>The objective of the game is to select (click) the numbers in the box on the left that add up to the given number. When you made a mistake, click the numbers in the box on the right to move them back to the left. When ready (de)selecting numbers, click Done and the app will tell whether your attempt was correct or incorrect. To start all over again while playing, click the Reset button.</p>
<p>Wanna give it a try yourself? <a href="https://react-number-game-v1.netlify.app">https://react-number-game-v1.netlify.app</a></p>
<h3>Let's start building</h3>
<p>I'll build this app using <a href="https://create-react-app.dev">Create React App</a>. In this blog post I won't go into CSS styling, but if you're interested, the CSS stylesheet I'll use can be found <a href="https://raw.githubusercontent.com/bouwe77/react-number-game-v1/main/src/styles.css">on my GitHub</a>.</p>
<p>To keep it simple, the app will consist of one component, the <code>App</code> component. Let's start with some basic plumbing of the different sections of the game and apply the CSS I've prepared:</p>
<pre><code class="language-js">import React from "react";

export default function App() {
  const answer = 3;
  const choices = [1, 2, 3, 4];
  const selected = [];

  return (
    &#x3C;div className="container">
      &#x3C;div className="full-width">
        Select numbers that add up to:
        &#x3C;br />
        &#x3C;span className="answer">{answer}&#x3C;/span>
      &#x3C;/div>

      &#x3C;div className="side-by-side">
        &#x3C;div className="numbers">
          {/* this is the box on the left which will contain numbers to choose from */}
        &#x3C;/div>
        &#x3C;div className="numbers">
          {/* this is the box on the right which will contain the selected numbers */}
        &#x3C;/div>
      &#x3C;/div>

      &#x3C;div className="full-width">
        &#x3C;button className="action">Reset&#x3C;/button>
        &#x3C;button className="action">Done&#x3C;/button>
      &#x3C;/div>
    &#x3C;/div>
  );
}
</code></pre>
<h3>Selecting numbers by clicking on them</h3>
<p>Note how I created and display a variable named <code>answer</code> which contains the number we'll have to add up to. Also variables for the numbers to choose from (<code>choices</code>) and the selected numbers (<code>selected</code>) have been added. However, these are not displayed yet, so let's do that now by mapping over them and rendering a button for each number:</p>
<pre><code class="language-js">&#x3C;div className="side-by-side">
  &#x3C;div className="numbers">
    {choices.map((number) => (
      &#x3C;button key={number} className="number">
        {number}
      &#x3C;/button>
    ))}
  &#x3C;/div>
  &#x3C;div className="numbers">
    {selected.map((number) => (
      &#x3C;button key={number} className="number">
        {number}
      &#x3C;/button>
    ))}
  &#x3C;/div>
&#x3C;/div>
</code></pre>
<p>Next, we want to click on a number to select it so it moves from the left to the right box, or vice versa. Technically this means a number moves from the <code>choices</code> array to the <code>selected</code> array, or vice versa. So to reflect changes to these arrays in the UI, we need to change these arrays from hard-coded constants to stateful values with the <code>useState</code> hook:</p>
<pre><code class="language-js">const answer = 3;
const [choices, setChoices] = useState([1, 2, 3, 4]);
const [selected, setSelected] = useState([]);
</code></pre>
<p>Note that we did not make <code>answer</code> stateful, because this value does not (yet) change.</p>
<p>Now that we got the <code>setChoices</code> and <code>setSelected</code> functions from <code>useState</code> to update the state, let's implement functions to move numbers between these two arrays:</p>
<pre><code class="language-js">function select(number) {
  setChoices(choices.filter((c) => c !== number));
  setSelected([...selected, number]);
}

function deselect(number) {
  setChoices([...choices, number]);
  setSelected(selected.filter((c) => c !== number));
}
</code></pre>
<p>What happens in these functions is that a number is removed from an array by filtering all numbers except the one that was clicked. A number is added to an array using the spread operator.</p>
<p>To the number buttons in the left box we add an <code>onClick</code> handler and call the <code>select</code> function:</p>
<pre><code class="language-js">&#x3C;button key={number} className="number" onClick={() => select(number)}>
  {number}
&#x3C;/button>
</code></pre>
<p>Same for the right box, but then we call the <code>deselect</code> function:</p>
<pre><code class="language-js">&#x3C;button key={number} className="number" onClick={() => deselect(number)}>
  {number}
&#x3C;/button>
</code></pre>
<h3>Resetting the answer</h3>
<p>Next to deselecting individual numbers, there is also a Reset button which should deselect all numbers. Let's implement that feature now.</p>
<p>First, let's create a <code>reset</code> function:</p>
<pre><code class="language-js">function reset() {
  setChoices(initialChoices);
  setSelected([]);
  setResult();
}
</code></pre>
<p>What we do here is set <code>choices</code> to the value of <code>initialChoices</code>, which does not yet exist. Let's create that variable now and also use it to set the initial state for the <code>useState</code> call for <code>choices</code>:</p>
<pre><code class="language-js">const initialChoices = [1, 2, 3, 4];
const [choices, setChoices] = useState(initialChoices);
</code></pre>
<p>So what happens here is that when the component is rendered for the first time it gets the value of <code>initialChoices</code>. When clicking the number buttons the state of <code>choices</code> changes. In the <code>reset</code> function we can restore the <code>initialChoices</code> again because we kept it in a separate variable.</p>
<h3>Submitting an answer</h3>
<p>Now that we are able to select numbers, we want to submit our answer. This means the Done button needs functionality to determine our answer is correct.</p>
<p>What I am going to do is add up all the numbers in the <code>selected</code> array and compare that to the expected answer. The UI should show whether the answer is correct or incorrect, so that's a new state variable. The initial state is empty, because there is no result yet:</p>
<pre><code class="language-js">const [result, setResult] = useState();
</code></pre>
<p>As soon as the Done button is clicked the <code>result</code> should change to either 'correct' or 'incorrect'. To determine the total of the <code>selected</code> numbers we reduce the array to one single value by adding up the numbers:</p>
<pre><code class="language-js">function done() {
  const selectedTotal = selected.reduce((a, b) => a + b, 0);
  selectedTotal === answer ? setResult("correct") : setResult("incorrect");
}
</code></pre>
<p>To call the <code>done</code> function we add an <code>onClick</code> handler to the Done button:</p>
<pre><code class="language-js">&#x3C;button className="action" onClick={done}>
  Done
&#x3C;/button>
</code></pre>
<p>To give some feedback to the user, for now, we just display the value of <code>result</code>, but only when the game is finished, in other words: when <code>result</code> has a value:</p>
<pre><code class="language-js">return (
  &#x3C;div className="container">
    {result &#x26;&#x26; (
      &#x3C;h1>{result}&#x3C;/h1>
    )}

  /* etc. */
</code></pre>
<h3>Trying again after submitting an answer</h3>
<p>After the app indicated the answer is correct or not, of course we would like to try again. For now, this means we want to reset the game.</p>
<p>Let's start with adding a Try Again button underneath the <code>result</code> we were already displaying. To make it look and work nicer we will put the result and the button in a <a href="https://raw.githubusercontent.com/bouwe77/react-number-game-v1/main/src/Modal.js">Modal</a>:</p>
<pre><code class="language-js">return (
  &#x3C;div className="container">
      {result &#x26;&#x26; (
        &#x3C;Modal>
          &#x3C;h1>{result}&#x3C;/h1>
          &#x3C;button className="action" onClick={reset}>
            Try again
          &#x3C;/button>
        &#x3C;/Modal>
      )}

  /* etc. */
</code></pre>
<h3>Finished?</h3>
<p>Well, not entirely.</p>
<p>Although the app supports the infinite flow of answering a question, resetting it and trying again after either a correct or incorrect answer, it shows the same question every time, which is pretty boring of course. In my next blog post I will fix that.</p>
<p>And as you've probably noticed in the demo there are a few annoying UI bugs when clicking the numbers. For example, the order of the numbers does not stay the same, so you really need to pay attention where the buttons have ended up before clicking the next one. This is also something I will fix in that next blog post.</p>
<p><del>So stay tuned for Part 2! </del> Part 2 is finished, so <a href="/some-more-react-basics-while-improving-the-number-game">continue reading</a>.</p>
<p>P.S. The source code for this app is on my GitHub: <a href="https://github.com/bouwe77/react-number-game-v1">https://github.com/bouwe77/react-number-game-v1</a></p>
</div>

      <div>
        <a
          href="https://twitter.com/intent/tweet?text=Learn React basics by creating a number game (part 1)&url=https://bouwe.io/learn-react-basics-by-creating-a-number-game&via=bouwe"
          >Share on Twitter</a
        >
        路
        <a href="https://twitter.com/search?q=https://bouwe.io/learn-react-basics-by-creating-a-number-game"
          >Discuss on Twitter</a
        >
        路
        <a href="https://github.com/bouwe77/bouwe.io/edit/master/content/blog/learn-react-basics-by-creating-a-number-game/learn-react-basics-by-creating-a-number-game.md">Edit on GitHub</a>
      </div>
    </div>

    <footer>
      <!--
          <a href="/workshops">Workshops</a> |
          <a href="/react">React</a>
          -->
    </footer>
  </div>
</body>

</html>
